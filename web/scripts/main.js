window.Modernizr=function(e,t,n){function T(e){a.cssText=e}function N(e,t){return T(c.join(e+";")+(t||""))}function C(e,t){return typeof e===t}function k(e,t){return!!~(""+e).indexOf(t)}function L(e,t){for(var r in e){var i=e[r];if(!k(i,"-")&&a[i]!==n)return t=="pfx"?i:!0}return!1}function A(e,t,r){for(var i in e){var s=t[e[i]];if(s!==n)return r===!1?e[i]:C(s,"function")?s.bind(r||t):s}return!1}function O(e,t,n){var r=e.charAt(0).toUpperCase()+e.slice(1),i=(e+" "+p.join(r+" ")+r).split(" ");return C(t,"string")||C(t,"undefined")?L(i,t):(i=(e+" "+d.join(r+" ")+r).split(" "),A(i,t,n))}var r="2.6.2",i={},s=t.documentElement,o="modernizr",u=t.createElement(o),a=u.style,f,l={}.toString,c=" -webkit- -moz- -o- -ms- ".split(" "),h="Webkit Moz O ms",p=h.split(" "),d=h.toLowerCase().split(" "),v={},m={},g={},y=[],b=y.slice,w,E=function(e,n,r,i){var u,a,f,l,c=t.createElement("div"),h=t.body,p=h||t.createElement("body");if(parseInt(r,10))while(r--)f=t.createElement("div"),f.id=i?i[r]:o+(r+1),c.appendChild(f);return u=["&#173;",'<style id="s',o,'">',e,"</style>"].join(""),c.id=o,(h?c:p).innerHTML+=u,p.appendChild(c),h||(p.style.background="",p.style.overflow="hidden",l=s.style.overflow,s.style.overflow="hidden",s.appendChild(p)),a=n(c,e),h?c.parentNode.removeChild(c):(p.parentNode.removeChild(p),s.style.overflow=l),!!a},S={}.hasOwnProperty,x;!C(S,"undefined")&&!C(S.call,"undefined")?x=function(e,t){return S.call(e,t)}:x=function(e,t){return t in e&&C(e.constructor.prototype[t],"undefined")},Function.prototype.bind||(Function.prototype.bind=function(t){var n=this;if(typeof n!="function")throw new TypeError;var r=b.call(arguments,1),i=function(){if(this instanceof i){var e=function(){};e.prototype=n.prototype;var s=new e,o=n.apply(s,r.concat(b.call(arguments)));return Object(o)===o?o:s}return n.apply(t,r.concat(b.call(arguments)))};return i}),v.csstransforms3d=function(){var e=!!O("perspective");return e&&"webkitPerspective"in s.style&&E("@media (transform-3d),(-webkit-transform-3d){#modernizr{left:9px;position:absolute;height:3px;}}",function(t,n){e=t.offsetLeft===9&&t.offsetHeight===3}),e};for(var M in v)x(v,M)&&(w=M.toLowerCase(),i[w]=v[M](),y.push((i[w]?"":"no-")+w));return i.addTest=function(e,t){if(typeof e=="object")for(var r in e)x(e,r)&&i.addTest(r,e[r]);else{e=e.toLowerCase();if(i[e]!==n)return i;t=typeof t=="function"?t():t,typeof enableClasses!="undefined"&&enableClasses&&(s.className+=" "+(t?"":"no-")+e),i[e]=t}return i},T(""),u=f=null,i._version=r,i._prefixes=c,i._domPrefixes=d,i._cssomPrefixes=p,i.testProp=function(e){return L([e])},i.testAllProps=O,i.testStyles=E,i}(this,this.document),function(e,t){"use strict";function Et(e){return new St(e)}function St(e){if(e&&e.__wrapped__)return e;this.__wrapped__=e}function Dt(e,t,n){t||(t=0);var r=e.length,i=r-t>=(n||p),s=i?{}:e;if(i){var o,u=t-1;while(++u<r)o=e[u]+"",(_.call(s,o)?s[o]:s[o]=[]).push(e[u])}return function(e){if(i){var n=e+"";return _.call(s,n)&&$n(s[n],e)>-1}return $n(s,e,t)>-1}}function Pt(){var e,t,n,r=-1,i=arguments.length,s={bottom:"",exit:"",init:"",top:"",arrayBranch:{beforeLoop:""},objectBranch:{beforeLoop:""}};while(++r<i){e=arguments[r];for(t in e)n=(n=e[t])==null?"":n,/beforeLoop|inLoop/.test(t)?(typeof n=="string"&&(n={array:n,object:n}),s.arrayBranch[t]=n.array||"",s.objectBranch[t]=n.object||""):s[t]=n}var o=s.args,a=/^[^,]+/.exec(o)[0],f=s.useStrict;s.firstArg=a,s.hasDontEnumBug=nt,s.isKeysFast=ht,s.noArgsEnum=st,s.shadowed=C,s.useHas=s.useHas!==!1,s.useStrict=f==null?pt:f,s.noCharByIndex==null&&(s.noCharByIndex=at),s.exit||(s.exit="if (!"+a+") return result");if(a!="collection"||!s.arrayBranch.inLoop)s.arrayBranch=null;var l=Function("arrayLikeClasses, ArrayProto, bind, compareAscending, concat, forIn, hasOwnProperty, identity, indexOf, isArguments, isArray, isFunction, isPlainObject, iteratorBind, objectClass, objectTypes, nativeKeys, propertyIsEnumerable, slice, stringClass, toString","var callee = function("+o+") {\n"+xt(s)+"\n};\n"+"return callee");return l(vt,u,lr,Ht,M,en,_,Sr,$n,Xt,Vt,$t,Kt,It,G,bt,R,P,H,Z,B)}function Ht(e,n){var r=e.index,i=n.index;e=e.criteria,n=n.criteria;if(e!==n){if(e>n||e===t)return 1;if(e<n||n===t)return-1}return r<i?-1:1}function Bt(e,t){return O[t]}function jt(e){return"\\"+wt[e]}function Ft(e){return gt[e]}function It(e,t){return function(n,r,i){return e.call(t,n,r,i)}}function qt(){}function Rt(e,t){if(e&&v.test(t))return"<e%-"+t+"%>";var n=O.length;return O[n]="' +\n__e("+t+") +\n'",L+n+A}function Ut(e,t,n,r){if(r){var i=O.length;return O[i]="';\n"+r+";\n__p += '",L+i+A}return t?Rt(null,t):zt(null,n)}function zt(e,t){if(e&&v.test(t))return"<e%="+t+"%>";var n=O.length;return O[n]="' +\n((__t = ("+t+")) == null ? '' : __t) +\n'",L+n+A}function Wt(e){return yt[e]}function Xt(e){return B.call(e)==X}function $t(e){return typeof e=="function"}function Jt(e,t){var n=!1;if(!e||typeof e!="object"||!t&&Xt(e))return n;var r=e.constructor;return(!ft||typeof e.toString=="function"||typeof (e+"")!="string")&&(!$t(r)||r instanceof r)?it?(en(e,function(e,t,r){return n=!_.call(r,t),!1}),n===!1):(en(e,function(e,t){n=t}),n===!1||_.call(e,n)):n}function Gt(e,t,n,r){if(e==null)return e;n&&(t=!1),r||(r={thorough:null}),r.thorough==null&&(r.thorough=!!(a.clone||l.clone||c.clone));var i=bt[typeof e];if((i||r.thorough)&&e.clone&&$t(e.clone))return r.thorough=null,e.clone(t);if(i){var s=B.call(e);if(!mt[s]||ot&&Xt(e))return e;var o=s==V;i=o||(s==G?Kt(e,!0):i)}if(!i||!t)return i?o?H.call(e):Zt({},e):e;var u=e.constructor;switch(s){case $:return new u(e==1);case J:return new u(+e);case Q:case Z:return new u(e);case Y:return u(e.source,w.exec(e))}var f=r.clones||(r.clones=[]),h=r.sources||(r.sources=[]),p=f.length;while(p--)if(h[p]==e)return f[p];var d=o?u(p=e.length):{};f.push(d),h.push(e);if(o){var v=-1;while(++v<p)d[v]=Gt(e[v],t,null,r)}else tn(e,function(e,n){d[n]=Gt(e,t,null,r)});return d}function rn(e,t){return e?_.call(e,t):!1}function on(e){return e===!0||e===!1||B.call(e)==$}function un(e){return B.call(e)==J}function an(e){return e?e.nodeType===1:!1}function ln(e,t,n){if(e==null||t==null)return e===t;n||(n={thorough:null}),n.thorough==null&&(n.thorough=!!(a.isEqual||l.isEqual||c.isEqual));if(bt[typeof e]||bt[typeof t]||n.thorough){e=e.__wrapped__||e,t=t.__wrapped__||t;if(e.isEqual&&$t(e.isEqual))return n.thorough=null,e.isEqual(t);if(t.isEqual&&$t(t.isEqual))return n.thorough=null,t.isEqual(e)}if(e===t)return e!==0||1/e==1/t;var r=B.call(e);if(r!=B.call(t))return!1;switch(r){case $:case J:return+e==+t;case Q:return e!=+e?t!=+t:e==0?1/e==1/t:e==+t;case Y:case Z:return e==t+""}var i=vt[r];if(ot&&!i&&(i=Xt(e))&&!Xt(t))return!1;if(!i&&(r!=G||ft&&(typeof e.toString!="function"&&typeof (e+"")=="string"||typeof t.toString!="function"&&typeof (t+"")=="string")))return!1;var s=n.stackA||(n.stackA=[]),o=n.stackB||(n.stackB=[]),u=s.length;while(u--)if(s[u]==e)return o[u]==t;var f=-1,h=!0,p=0;s.push(e),o.push(t);if(i){p=e.length,h=p==t.length;if(h)while(p--)if(!(h=ln(e[p],t[p],n)))break;return h}var d=e.constructor,v=t.constructor;if(d!=v&&!($t(d)&&d instanceof d&&$t(v)&&v instanceof v))return!1;for(var m in e)if(_.call(e,m)){p++;if(!_.call(t,m)||!ln(e[m],t[m],n))return!1}for(m in t)if(_.call(t,m)&&!(p--))return!1;if(nt)while(++f<7){m=C[f];if(_.call(e,m)&&(!_.call(t,m)||!ln(e[m],t[m],n)))return!1}return!0}function cn(e){return q(e)&&B.call(e)==Q}function hn(e){return e?bt[typeof e]:!1}function pn(e){return B.call(e)==Q&&e!=+e}function dn(e){return e===null}function vn(e){return B.call(e)==Q}function mn(e){return B.call(e)==Y}function gn(e){return B.call(e)==Z}function yn(e){return e===t}function Bn(e,t,n,r){if(!e)return n;var i=e.length,s=arguments.length<3;r&&(t=It(t,r));if(i>-1&&i===i>>>0){var o=at&&B.call(e)==Z?e.split(""):e;i&&s&&(n=o[--i]);while(i--)n=t(n,o[i],i,e);return n}var u,a=bn(e);i=a.length,i&&s&&(n=e[a[--i]]);while(i--)u=a[i],n=t(n,e[u],u,e);return n}function Fn(e){if(!e)return 0;var t=e.length;return t>-1&&t===t>>>0?t:bn(e).length}function Rn(e){if(!e)return[];if(e.toArray&&$t(e.toArray))return e.toArray();var t=e.length;return t>-1&&t===t>>>0?(ut?B.call(e)==Z:typeof e=="string")?e.split(""):H.call(e):Tn(e)}function zn(e){var t=[];if(!e)return t;var n=-1,r=e.length;while(++n<r)e[n]&&t.push(e[n]);return t}function Wn(e){var t=[];if(!e)return t;var n=-1,r=e.length,i=M.apply(t,arguments),s=Dt(i,r);while(++n<r)s(e[n])||t.push(e[n]);return t}function Xn(e,t,n){if(e)return t==null||n?e[0]:H.call(e,0,t)}function Vn(e,t){var n=[];if(!e)return n;var r,i=-1,s=e.length;while(++i<s)r=e[i],Vt(r)?D.apply(n,t?r:Vn(r)):n.push(r);return n}function $n(e,t,n){if(!e)return-1;var r=-1,i=e.length;if(n){if(typeof n!="number")return r=ir(e,t),e[r]===t?r:-1;r=(n<0?U(0,i+n):n)-1}while(++r<i)if(e[r]===t)return r;return-1}function Jn(e,t,n){return e?H.call(e,0,-(t==null||n?1:t)):[]}function Kn(e){var t=[];if(!e)return t;var n,r=arguments.length,i=[],s=-1,o=e.length;e:while(++s<o){n=e[s];if($n(t,n)<0){for(var u=1;u<r;u++)if(!(i[u]||(i[u]=Dt(arguments[u])))(n))continue e;t.push(n)}}return t}function Qn(e,t,n){if(e){var r=e.length;return t==null||n?e[r-1]:H.call(e,-t||r)}}function Gn(e,t,n){if(!e)return-1;var r=e.length;n&&typeof n=="number"&&(r=(n<0?U(0,r+n):z(n,r-1))+1);while(r--)if(e[r]===t)return r;return-1}function Yn(e,t,n){var r=-Infinity,i=r;if(!e)return i;var s,o=-1,u=e.length;if(!t){while(++o<u)e[o]>i&&(i=e[o]);return i}n&&(t=It(t,n));while(++o<u)s=t(e[o],o,e),s>r&&(r=s,i=e[o]);return i}function Zn(e,t,n){var r=Infinity,i=r;if(!e)return i;var s,o=-1,u=e.length;if(!t){while(++o<u)e[o]<i&&(i=e[o]);return i}n&&(t=It(t,n));while(++o<u)s=t(e[o],o,e),s<r&&(r=s,i=e[o]);return i}function er(e,t){if(!e)return{};var n=-1,r=e.length,i={};while(++n<r)t?i[e[n]]=t[n]:i[e[n][0]]=e[n][1];return i}function tr(e,t,n){e=+e||0,n=+n||1,t==null&&(t=e,e=0);var r=-1,i=U(0,Math.ceil((t-e)/n)),s=Array(i);while(++r<i)s[r]=e,e+=n;return s}function nr(e,t,n){return e?H.call(e,t==null||n?1:t):[]}function rr(e){if(!e)return[];var t,n=-1,r=e.length,i=Array(r);while(++n<r)t=F(W()*(n+1)),i[n]=i[t],i[t]=e[n];return i}function ir(e,t,n,r){if(!e)return 0;var i,s=0,o=e.length;if(n){r&&(n=lr(n,r)),t=n(t);while(s<o)i=s+o>>>1,n(e[i])<t?s=i+1:o=i}else while(s<o)i=s+o>>>1,e[i]<t?s=i+1:o=i;return s}function sr(){var e=-1,t=[],n=M.apply(t,arguments),r=n.length;while(++e<r)$n(t,n[e])<0&&t.push(n[e]);return t}function or(e,t,n,r){var i=[];if(!e)return i;var s,o=-1,u=e.length,a=[];typeof t=="function"&&(r=n,n=t,t=!1),n?r&&(n=It(n,r)):n=Sr;while(++o<u){s=n(e[o],o,e);if(t?!o||a[a.length-1]!==s:$n(a,s)<0)a.push(s),i.push(e[o])}return i}function ur(e){var t=[];if(!e)return t;var n=-1,r=e.length,i=Dt(arguments,1,20);while(++n<r)i(e[n])||t.push(e[n]);return t}function ar(e){if(!e)return[];var t=-1,n=Yn(Pn(arguments,"length")),r=Array(n);while(++t<n)r[t]=Pn(arguments,t);return r}function fr(e,t){return e<1?t():function(){if(--e<1)return t.apply(this,arguments)}}function lr(e,t){function s(){var o=arguments,u=t;r||(e=t[n]),i.length&&(o=o.length?i.concat(H.call(o)):i);if(this instanceof s){qt.prototype=e.prototype,u=new qt;var a=e.apply(u,o);return a&&bt[typeof a]?a:u}return e.apply(u,o)}var n,r=$t(e);if(!r)n=t,t=e;else if(ct||j&&arguments.length>2)return j.call.apply(j,arguments);var i=H.call(arguments,2);return s}function hr(){var e=arguments;return function(){var t=arguments,n=e.length;while(n--)t=[e[n].apply(this,t)];return t[0]}}function pr(e,t,n){function u(){o=null,n||(i=e.apply(s,r))}var r,i,s,o;return function(){var a=n&&!o;return r=arguments,s=this,et(o),o=tt(u,t),a&&(i=e.apply(s,r)),i}}function dr(e,n){var r=H.call(arguments,2);return tt(function(){return e.apply(t,r)},n)}function vr(e){var n=H.call(arguments,1);return tt(function(){return e.apply(t,n)},1)}function mr(e,t){var n={};return function(){var r=t?t.apply(this,arguments):arguments[0];return _.call(n,r)?n[r]:n[r]=e.apply(this,arguments)}}function gr(e){var t,n=!1;return function(){return n?t:(n=!0,t=e.apply(this,arguments),e=null,t)}}function yr(e){var t=H.call(arguments,1),n=t.length;return function(){var r,i=arguments;return i.length&&(t.length=n,D.apply(t,i)),r=t.length==1?e.call(this,t[0]):e.apply(this,t),t.length=n,r}}function br(e,t){function u(){o=new Date,s=null,r=e.apply(i,n)}var n,r,i,s,o=0;return function(){var a=new Date,f=t-(a-o);return n=arguments,i=this,f<=0?(o=a,r=e.apply(i,n)):s||(s=tt(u,f)),r}}function wr(e,t){return function(){var n=[e];return arguments.length&&D.apply(n,arguments),t.apply(this,n)}}function Er(e){return e==null?"":(e+"").replace(T,Ft)}function Sr(e){return e}function xr(e){On(nn(e),function(t){var n=Et[t]=e[t];St.prototype[t]=function(){var e=[this.__wrapped__];arguments.length&&D.apply(e,arguments);var t=n.apply(Et,e);return this.__chain__&&(t=new St(t),t.__chain__=!0),t}})}function Tr(){return e._=d,this}function Nr(e,t){return e==null&&t==null?W():(e=+e||0,t==null&&(t=e,e=0),e+F(W()*((+t||0)-e+1)))}function Cr(e,t){if(!e)return null;var n=e[t];return $t(n)?e[t]():n}function kr(e,t,o){o||(o={}),e+="";var u,a,f=o.escape,l=o.evaluate,c=o.interpolate,h=Et.templateSettings,p=o.variable||h.variable,d=p;f==null&&(f=h.escape),l==null&&(l=h.evaluate||!1),c==null&&(c=h.interpolate),f&&(e=e.replace(f,Rt)),c&&(e=e.replace(c,zt)),l!=n&&(n=l,s=RegExp("<e%-([\\s\\S]+?)%>|<e%=([\\s\\S]+?)%>"+(l?"|"+l.source:""),"g")),u=O.length,e=e.replace(s,Ut),u=u!=O.length,e="__p += '"+e.replace(N,jt).replace(x,Bt)+"';\n",O.length=0,d||(p=r||"obj",u?e="with ("+p+") {\n"+e+"\n}\n":(p!=r&&(r=p,i=RegExp("(\\(\\s*)"+p+"\\."+p+"\\b","g")),e=e.replace(E,"$&"+p+".").replace(i,"$1__d"))),e=(u?e.replace(g,""):e).replace(y,"$1").replace(b,"$1;"),e="function("+p+") {\n"+(d?"":p+" || ("+p+" = {});\n")+"var __t, __p = '', __e = _.escape"+(u?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":(d?"":", __d = "+p+"."+p+" || "+p)+";\n")+e+"return __p\n}",dt&&(e+="\n//@ sourceURL=/lodash/template/source["+k++ +"]");try{a=Function("_","return "+e)(Et)}catch(v){throw v.source=e,v}return t?a(t):(a.source=e,a)}function Lr(e,t,n){var r=-1;if(n)while(++r<e)t.call(n,r);else while(++r<e)t(r)}function Ar(e){return e==null?"":(e+"").replace(m,Wt)}function Or(e){var t=h++;return e?e+t:t}function Mr(e){return e=new St(e),e.__chain__=!0,e}function _r(e,t){return t(e),e}function Dr(){return this.__chain__=!0,this}function Pr(){return this.__wrapped__}var n,r,i,s,o=typeof exports=="object"&&exports&&(typeof global=="object"&&global&&global==global.global&&(e=global),exports),u=Array.prototype,a=Boolean.prototype,f=Object.prototype,l=Number.prototype,c=String.prototype,h=0,p=30,d=e._,v=/[-?+=!~*%&^<>|{(\/]|\[\D|\b(?:delete|in|instanceof|new|typeof|void)\b/,m=/&(?:amp|lt|gt|quot|#x27);/g,g=/\b__p \+= '';/g,y=/\b(__p \+=) '' \+/g,b=/(__e\(.*?\)|\b__t\)) \+\n'';/g,w=/\w*$/,E=/(?:__e|__t = )\(\s*(?![\d\s"']|this\.)/g,S=RegExp("^"+(f.valueOf+"").replace(/[.*+?^=!:${}()|[\]\/\\]/g,"\\$&").replace(/valueOf|for [^\]]+/g,".+?")+"$"),x=/__token(\d+)__/g,T=/[&<>"']/g,N=/['\n\r\t\u2028\u2029\\]/g,C=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"],k=0,L="__token",A="__",O=[],M=u.concat,_=f.hasOwnProperty,D=u.push,P=f.propertyIsEnumerable,H=u.slice,B=f.toString,j=S.test(j=H.bind)&&j,F=Math.floor,I=S.test(I=Array.isArray)&&I,q=e.isFinite,R=S.test(R=Object.keys)&&R,U=Math.max,z=Math.min,W=Math.random,X="[object Arguments]",V="[object Array]",$="[object Boolean]",J="[object Date]",K="[object Function]",Q="[object Number]",G="[object Object]",Y="[object RegExp]",Z="[object String]",et=e.clearTimeout,tt=e.setTimeout,nt,rt,it,st=!0;(function(){function n(){this.x=1}var e={0:1,length:1},t=[];n.prototype={valueOf:1,y:1};for(var r in new n)t.push(r);for(r in arguments)st=!r;nt=(t+"").length<4,it=t[0]!="x",rt=(t.splice.call(e,0,1),e[0])})(1);var ot=!Xt(arguments),ut=H.call("x")[0]!="x",at="x"[0]+Object("x")[0]!="xx";try{var ft=({toString:0}+"",B.call(e.document||0)==G)}catch(lt){}var ct=j&&/\n|Opera/.test(j+B.call(e.opera)),ht=R&&/^.+$|true/.test(R+!!e.attachEvent),pt=!ct;try{var dt=(Function("//@")(),!e.attachEvent)}catch(lt){}var vt={};vt[$]=vt[J]=vt[K]=vt[Q]=vt[G]=vt[Y]=!1,vt[X]=vt[V]=vt[Z]=!0;var mt={};mt[X]=mt[K]=!1,mt[V]=mt[$]=mt[J]=mt[Q]=mt[G]=mt[Y]=mt[Z]=!0;var gt={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;"},yt={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#x27;":"'"},bt={"boolean":!1,"function":!0,object:!0,number:!1,string:!1,"undefined":!1,unknown:!0},wt={"\\":"\\","'":"'","\n":"n","\r":"r","	":"t","\u2028":"u2028","\u2029":"u2029"};Et.templateSettings={escape:/<%-([\s\S]+?)%>/g,evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,variable:""};var xt=kr("<% if (useStrict) { %>'use strict';\n<% } %>var index, value, iteratee = <%= firstArg %>, result<% if (init) { %> = <%= init %><% } %>;\n<%= exit %>;\n<%= top %>;\n<% if (arrayBranch) { %>var length = iteratee.length; index = -1;  <% if (objectBranch) { %>\nif (length > -1 && length === length >>> 0) {<% } %>  <% if (noCharByIndex) { %>\n  if (toString.call(iteratee) == stringClass) {\n    iteratee = iteratee.split('')\n  }  <% } %>\n  <%= arrayBranch.beforeLoop %>;\n  while (++index < length) {\n    value = iteratee[index];\n    <%= arrayBranch.inLoop %>\n  }  <% if (objectBranch) { %>\n}<% } %><% } %><% if (objectBranch) { %>  <% if (arrayBranch) { %>\nelse {  <%  } else if (noArgsEnum) { %>\n  var length = iteratee.length; index = -1;\n  if (length && isArguments(iteratee)) {\n    while (++index < length) {\n      value = iteratee[index += ''];\n      <%= objectBranch.inLoop %>\n    }\n  } else {  <% } %>  <% if (!hasDontEnumBug) { %>\n  var skipProto = typeof iteratee == 'function' && \n    propertyIsEnumerable.call(iteratee, 'prototype');\n  <% } %>  <% if (isKeysFast && useHas) { %>\n  var ownIndex = -1,\n      ownProps = objectTypes[typeof iteratee] ? nativeKeys(iteratee) : [],\n      length = ownProps.length;\n\n  <%= objectBranch.beforeLoop %>;\n  while (++ownIndex < length) {\n    index = ownProps[ownIndex];\n    <% if (!hasDontEnumBug) { %>if (!(skipProto && index == 'prototype')) {\n  <% } %>    value = iteratee[index];\n    <%= objectBranch.inLoop %>\n    <% if (!hasDontEnumBug) { %>}\n<% } %>  }  <% } else { %>\n  <%= objectBranch.beforeLoop %>;\n  for (index in iteratee) {<%    if (!hasDontEnumBug || useHas) { %>\n    if (<%      if (!hasDontEnumBug) { %>!(skipProto && index == 'prototype')<% }      if (!hasDontEnumBug && useHas) { %> && <% }      if (useHas) { %>hasOwnProperty.call(iteratee, index)<% }    %>) {    <% } %>\n    value = iteratee[index];\n    <%= objectBranch.inLoop %>;\n    <% if (!hasDontEnumBug || useHas) { %>}\n<% } %>  }  <% } %>  <% if (hasDontEnumBug) { %>\n\n  var ctor = iteratee.constructor;\n    <% for (var k = 0; k < 7; k++) { %>\n  index = '<%= shadowed[k] %>';\n  if (<%      if (shadowed[k] == 'constructor') {        %>!(ctor && ctor.prototype === iteratee) && <%      } %>hasOwnProperty.call(iteratee, index)) {\n    value = iteratee[index];\n    <%= objectBranch.inLoop %>\n  }    <% } %>  <% } %>  <% if (arrayBranch || noArgsEnum) { %>\n}<% } %><% } %>\n<%= bottom %>;\nreturn result"),Tt={args:"collection, callback, thisArg",init:"collection",top:"if (!callback) {\n  callback = identity\n}\nelse if (thisArg) {\n  callback = iteratorBind(callback, thisArg)\n}",inLoop:"if (callback(value, index, collection) === false) return result"},Nt={init:"{}",top:"var prop;\nif (typeof callback != 'function') {\n  var valueProp = callback;\n  callback = function(value) { return value[valueProp] }\n}\nelse if (thisArg) {\n  callback = iteratorBind(callback, thisArg)\n}",inLoop:"prop = callback(value, index, collection);\n(hasOwnProperty.call(result, prop) ? result[prop]++ : result[prop] = 1)"},Ct={init:"true",inLoop:"if (!callback(value, index, collection)) return !result"},kt={useHas:!1,useStrict:!1,args:"object",init:"object",top:"for (var argsIndex = 1, argsLength = arguments.length; argsIndex < argsLength; argsIndex++) {\n  if (iteratee = arguments[argsIndex]) {",inLoop:"result[index] = value",bottom:"  }\n}"},Lt={init:"[]",inLoop:"callback(value, index, collection) && result.push(value)"},At={top:"if (thisArg) callback = iteratorBind(callback, thisArg)"},Ot={inLoop:{object:Tt.inLoop}},Mt={init:"",exit:"if (!collection) return []",beforeLoop:{array:"result = Array(length)",object:"result = "+(ht?"Array(length)":"[]")},inLoop:{array:"result[index] = callback(value, index, collection)",object:"result"+(ht?"[ownIndex] = ":".push")+"(callback(value, index, collection))"}},_t={useHas:!1,args:"object, callback, thisArg",init:"{}",top:"var isFunc = typeof callback == 'function';\nif (!isFunc) {\n  var props = concat.apply(ArrayProto, arguments)\n} else if (thisArg) {\n  callback = iteratorBind(callback, thisArg)\n}",inLoop:"if (isFunc\n  ? !callback(value, index, object)\n  : indexOf(props, index) < 0\n) result[index] = value"};ot&&(Xt=function(e){return!!e&&!!_.call(e,"callee")});var Vt=I||function(e){return B.call(e)==V};$t(/x/)&&($t=function(e){return B.call(e)==K});var Kt=bt.__proto__!=f?Jt:function(e,t){if(!e)return!1;var n=e.valueOf,r=typeof n=="function"&&(r=n.__proto__)&&r.__proto__;return r?e==r||e.__proto__==r&&(t||!Xt(e)):Jt(e)},Qt=Pt({args:"object",init:"[]",inLoop:"result.push(index)"}),Yt=Pt(kt,{inLoop:"if (result[index] == null) "+kt.inLoop}),Zt=Pt(kt),en=Pt(Tt,At,Ot,{useHas:!1}),tn=Pt(Tt,At,Ot),nn=Pt({useHas:!1,args:"object",init:"[]",inLoop:"if (isFunction(value)) result.push(index)",bottom:"result.sort()"}),sn=Pt({args:"object",init:"{}",inLoop:"result[value] = index"}),fn=Pt({args:"value",init:"true",top:"var className = toString.call(value),\n    length = value.length;\nif (arrayLikeClasses[className]"+(ot?" || isArguments(value)":"")+" ||\n"+"  (className == objectClass && length > -1 && length === length >>> 0 &&\n"+"  isFunction(value.splice))"+") return !length",inLoop:{object:"return false"}}),bn=R?function(e){var t=typeof e;return t=="function"&&P.call(e,"prototype")?Qt(e):e&&bt[t]?R(e):[]}:Qt,wn=Pt(kt,{args:"object, source, indicator",top:"var isArr, recursive = indicator == isPlainObject,\n    data = recursive ? arguments[3] : { values: [], sources: [] };\nfor (var argsIndex = 1, argsLength = recursive ? 2 : arguments.length; argsIndex < argsLength; argsIndex++) {\n  if (iteratee = arguments[argsIndex]) {",inLoop:"if ((source = value) && ((isArr = isArray(source)) || isPlainObject(source))) {\n  var found = false, values = data.values, sources = data.sources, stackLength = sources.length;\n  while (stackLength--) {\n    if (found = sources[stackLength] == source) break\n  }\n  if (found) {\n    result[index] = values[stackLength]\n  } else {\n    values.push(value = (value = result[index]) && isArr\n      ? (isArray(value) ? value : [])\n      : (isPlainObject(value) ? value : {})\n    );\n    sources.push(source);\n    result[index] = callee(value, source, isPlainObject, data)\n  }\n} else if (source != null) {\n  result[index] = source\n}"}),En=Pt(_t),Sn=Pt({args:"object",init:"[]",inLoop:"result"+(ht?"[ownIndex] = ":".push")+"([index, value])"}),xn=Pt(_t,{top:"if (typeof callback != 'function') {\n  var prop,\n      props = concat.apply(ArrayProto, arguments),\n      length = props.length;\n  for (index = 1; index < length; index++) {\n    prop = props[index];\n    if (prop in object) result[prop] = object[prop]\n  }\n} else {\n  if (thisArg) callback = iteratorBind(callback, thisArg)",inLoop:"if (callback(value, index, object)) result[index] = value",bottom:"}"}),Tn=Pt({args:"object",init:"[]",inLoop:"result.push(value)"}),Nn=Pt({args:"collection, target",init:"false",noCharByIndex:!1,beforeLoop:{array:"if (toString.call(collection) == stringClass) return collection.indexOf(target) > -1"},inLoop:"if (value === target) return true"}),Cn=Pt(Tt,Nt),kn=Pt(Tt,Ct),Ln=Pt(Tt,Lt),An=Pt(Tt,At,{init:"",inLoop:"if (callback(value, index, collection)) return value"}),On=Pt(Tt,At),Mn=Pt(Tt,Nt,{inLoop:"prop = callback(value, index, collection);\n(hasOwnProperty.call(result, prop) ? result[prop] : result[prop] = []).push(value)"}),_n=Pt(Mt,{args:"collection, methodName",top:"var args = slice.call(arguments, 2),\n    isFunc = typeof methodName == 'function'",inLoop:{array:"result[index] = (isFunc ? methodName : value[methodName]).apply(value, args)",object:"result"+(ht?"[ownIndex] = ":".push")+"((isFunc ? methodName : value[methodName]).apply(value, args))"}}),Dn=Pt(Tt,Mt),Pn=Pt(Mt,{args:"collection, property",inLoop:{array:"result[index] = value[property]",object:"result"+(ht?"[ownIndex] = ":".push")+"(value[property])"}}),Hn=Pt({args:"collection, callback, accumulator, thisArg",init:"accumulator",top:"var noaccum = arguments.length < 3;\nif (thisArg) callback = iteratorBind(callback, thisArg)",beforeLoop:{array:"if (noaccum) result = iteratee[++index]"},inLoop:{array:"result = callback(result, value, index, collection)",object:"result = noaccum\n  ? (noaccum = false, value)\n  : callback(result, value, index, collection)"}}),jn=Pt(Tt,Lt,{inLoop:"!"+Lt.inLoop}),In=Pt(Tt,Ct,{init:"false",inLoop:Ct.inLoop.replace("!","")}),qn=Pt(Tt,Nt,Mt,{inLoop:{array:"result[index] = {\n  criteria: callback(value, index, collection),\n  index: index,\n  value: value\n}",object:"result"+(ht?"[ownIndex] = ":".push")+"({\n"+"  criteria: callback(value, index, collection),\n"+"  index: index,\n"+"  value: value\n"+"})"},bottom:"result.sort(compareAscending);\nlength = result.length;\nwhile (length--) {\n  result[length] = result[length].value\n}"}),Un=Pt(Lt,{args:"collection, properties",top:"var props = [];\nforIn(properties, function(value, prop) { props.push(prop) });\nvar propsLength = props.length",inLoop:"for (var prop, pass = true, propIndex = 0; propIndex < propsLength; propIndex++) {\n  prop = props[propIndex];\n  if (!(pass = value[prop] === properties[prop])) break\n}\npass && result.push(value)"}),cr=Pt({useHas:!1,useStrict:!1,args:"object",init:"object",top:"var funcs = arguments,\n    length = funcs.length;\nif (length > 1) {\n  for (var index = 1; index < length; index++) {\n    result[funcs[index]] = bind(result[funcs[index]], result)\n  }\n  return result\n}",inLoop:"if (isFunction(result[index])) {\n  result[index] = bind(result[index], result)\n}"});Et.VERSION="0.7.0",Et.after=fr,Et.bind=lr,Et.bindAll=cr,Et.chain=Mr,Et.clone=Gt,Et.compact=zn,Et.compose=hr,Et.contains=Nn,Et.countBy=Cn,Et.debounce=pr,Et.defaults=Yt,Et.defer=vr,Et.delay=dr,Et.difference=Wn,Et.escape=Er,Et.every=kn,Et.extend=Zt,Et.filter=Ln,Et.find=An,Et.first=Xn,Et.flatten=Vn,Et.forEach=On,Et.forIn=en,Et.forOwn=tn,Et.functions=nn,Et.groupBy=Mn,Et.has=rn,Et.identity=Sr,Et.indexOf=$n,Et.initial=Jn,Et.intersection=Kn,Et.invert=sn,Et.invoke=_n,Et.isArguments=Xt,Et.isArray=Vt,Et.isBoolean=on,Et.isDate=un,Et.isElement=an,Et.isEmpty=fn,Et.isEqual=ln,Et.isFinite=cn,Et.isFunction=$t,Et.isNaN=pn,Et.isNull=dn,Et.isNumber=vn,Et.isObject=hn,Et.isRegExp=mn,Et.isString=gn,Et.isUndefined=yn,Et.keys=bn,Et.last=Qn,Et.lastIndexOf=Gn,Et.map=Dn,Et.max=Yn,Et.memoize=mr,Et.merge=wn,Et.min=Zn,Et.mixin=xr,Et.noConflict=Tr,Et.object=er,Et.omit=En,Et.once=gr,Et.pairs=Sn,Et.partial=yr,Et.pick=xn,Et.pluck=Pn,Et.random=Nr,Et.range=tr,Et.reduce=Hn,Et.reduceRight=Bn,Et.reject=jn,Et.rest=nr,Et.result=Cr,Et.shuffle=rr,Et.size=Fn,Et.some=In,Et.sortBy=qn,Et.sortedIndex=ir,Et.tap=_r,Et.template=kr,Et.throttle=br,Et.times=Lr,Et.toArray=Rn,Et.unescape=Ar,Et.union=sr,Et.uniq=or,Et.uniqueId=Or,Et.values=Tn,Et.where=Un,Et.without=ur,Et.wrap=wr,Et.zip=ar,Et.all=kn,Et.any=In,Et.collect=Dn,Et.detect=An,Et.drop=nr,Et.each=On,Et.foldl=Hn,Et.foldr=Bn,Et.head=Xn,Et.include=Nn,Et.inject=Hn,Et.methods=nn,Et.select=Ln,Et.tail=nr,Et.take=Xn,Et.unique=or,Et._iteratorTemplate=xt,Et._shimKeys=Qt,St.prototype=Et.prototype,xr(Et),St.prototype.chain=Dr,St.prototype.value=Pr,On(["pop","push","reverse","shift","sort","splice","unshift"],function(e){var t=u[e];St.prototype[e]=function(){var e=this.__wrapped__;return t.apply(e,arguments),rt&&e.length===0&&delete e[0],this.__chain__&&(e=new St(e),e.__chain__=!0),e}}),On(["concat","join","slice"],function(e){var t=u[e];St.prototype[e]=function(){var e=this.__wrapped__,n=t.apply(e,arguments);return this.__chain__&&(n=new St(n),n.__chain__=!0),n}}),typeof define=="function"&&typeof define.amd=="object"&&define.amd?(e._=Et,define(function(){return Et})):o?typeof module=="object"&&module&&module.exports==o?(module.exports=Et)._=Et:o._=Et:e._=Et}(this),function(){var e=/msie/i.test(navigator.userAgent)&&!/opera/i.test(navigator.userAgent),t=window.soundcloud={version:"0.1",debug:!1,_listeners:[],_redispatch:function(e,t,n){var r,i=this._listeners[e]||[],s="soundcloud:"+e;try{r=this.getPlayer(t)}catch(o){this.debug&&window.console&&console.error("unable to dispatch widget event "+e+" for the widget id "+t,n,o);return}window.jQuery?jQuery(r).trigger(s,[n]):window.Prototype&&$(r).fire(s,n);for(var u=0,a=i.length;u<a;u+=1)i[u].apply(r,[r,n]);this.debug&&window.console&&console.log(s,e,t,n)},addEventListener:function(e,t){this._listeners[e]||(this._listeners[e]=[]),this._listeners[e].push(t)},removeEventListener:function(e,t){var n=this._listeners[e]||[];for(var r=0,i=n.length;r<i;r+=1)n[r]===t&&n.splice(r,1)},getPlayer:function(t){var n;try{if(!t)throw"The SoundCloud Widget DOM object needs an id atribute, please refer to SoundCloud Widget API documentation.";n=e?window[t]:document[t];if(n){if(n.api_getFlashId)return n;throw"The SoundCloud Widget External Interface is not accessible. Check that allowscriptaccess is set to 'always' in embed code"}throw"The SoundCloud Widget with an id "+t+" couldn't be found"}catch(r){throw console&&console.error&&console.error(r),r}},onPlayerReady:function(e,t){this._redispatch("onPlayerReady",e,t)},onMediaStart:function(e,t){this._redispatch("onMediaStart",e,t)},onMediaEnd:function(e,t){this._redispatch("onMediaEnd",e,t)},onMediaPlay:function(e,t){this._redispatch("onMediaPlay",e,t)},onMediaPause:function(e,t){this._redispatch("onMediaPause",e,t)},onMediaBuffering:function(e,t){this._redispatch("onMediaBuffering",e,t)},onMediaSeek:function(e,t){this._redispatch("onMediaSeek",e,t)},onMediaDoneBuffering:function(e,t){this._redispatch("onMediaDoneBuffering",e,t)},onPlayerError:function(e,t){this._redispatch("onPlayerError",e,t)}}}(),function(e){var t=function(e){var t=function(e){return{h:Math.floor(e/36e5),m:Math.floor(e/6e4%60),s:Math.floor(e/1e3%60)}}(e),n=[];return t.h>0&&n.push(t.h),n.push(t.m<10&&t.h>0?"0"+t.m:t.m),n.push(t.s<10?"0"+t.s:t.s),n.join(".")},n=function(e){return e.sort(function(){return Math.round(Math.random())}),e},r=!0,i=!1,s=e(document),o=function(e){try{r&&window.console&&window.console.log&&window.console.log.apply(window.console,arguments)}catch(t){}},u=i?"sandbox-soundcloud.com":"soundcloud.com",f=function(e,t){return(/api\./.test(e)?e+"?":"http://api."+u+"/resolve?url="+e+"&")+"format=json&consumer_key="+t+"&callback=?"},l=function(){var t=function(){var e=!1;try{var t=new Audio;e=t.canPlayType&&/maybe|probably/.test(t.canPlayType("audio/mpeg")),e=e&&/iPad|iphone|mobile|pre\//i.test(navigator.userAgent)}catch(n){}return e}(),n={onReady:function(){s.trigger("scPlayer:onAudioReady")},onPlay:function(){s.trigger("scPlayer:onMediaPlay")},onPause:function(){s.trigger("scPlayer:onMediaPause")},onEnd:function(){s.trigger("scPlayer:onMediaEnd")},onBuffer:function(e){s.trigger({type:"scPlayer:onMediaBuffering",percent:e})}},r=function(){var t=new Audio,r=function(e){var t=e.target,r=(t.buffered.length&&t.buffered.end(0))/t.duration*100;n.onBuffer(r),t.currentTime===t.duration&&n.onEnd()},i=function(e){var t=e.target,r=(t.buffered.length&&t.buffered.end(0))/t.duration*100;n.onBuffer(r)};return e('<div class="sc-player-engine-container"></div>').appendTo(document.body).append(t),t.addEventListener("play",n.onPlay,!1),t.addEventListener("pause",n.onPause,!1),t.addEventListener("ended",n.onEnd,!1),t.addEventListener("timeupdate",r,!1),t.addEventListener("progress",i,!1),{load:function(e,n){t.pause(),t.src=e.stream_url+"?consumer_key="+n,t.load(),t.play()},play:function(){t.play()},pause:function(){t.pause()},stop:function(){t.currentTime=0,t.pause()},seek:function(e){t.currentTime=t.duration*e,t.play()},getDuration:function(){return t.duration},getPosition:function(){return t.currentTime},setVolume:function(e){a&&(a.volume=e/100)}}},i=function(){var t="scPlayerEngine",r,i=function(n){var r="http://player."+u+"/player.swf?url="+n+"&amp;enable_api=true&amp;player_type=engine&amp;object_id="+t;return e.browser.msie?'<object height="100%" width="100%" id="'+t+'" classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000" data="'+r+'">'+'<param name="movie" value="'+r+'" />'+'<param name="allowscriptaccess" value="always" />'+"</object>":'<object height="100%" width="100%" id="'+t+'">'+'<embed allowscriptaccess="always" height="100%" width="100%" src="'+r+'" type="application/x-shockwave-flash" name="'+t+'" />'+"</object>"};return soundcloud.addEventListener("onPlayerReady",function(e,i){r=soundcloud.getPlayer(t),n.onReady()}),soundcloud.addEventListener("onMediaEnd",n.onEnd),soundcloud.addEventListener("onMediaBuffering",function(e,t){n.onBuffer(t.percent)}),soundcloud.addEventListener("onMediaPlay",n.onPlay),soundcloud.addEventListener("onMediaPause",n.onPause),{load:function(t){var n=t.permalink_url;r?r.api_load(n):e('<div class="sc-player-engine-container"></div>').appendTo(document.body).html(i(n))},play:function(){r&&r.api_play()},pause:function(){r&&r.api_pause()},stop:function(){r&&r.api_stop()},seek:function(e){r&&r.api_seekTo(r.api_getTrackDuration()*e)},getDuration:function(){return r&&r.api_getTrackDuration&&r.api_getTrackDuration()*1e3},getPosition:function(){return r&&r.api_getTrackPosition&&r.api_getTrackPosition()*1e3},setVolume:function(e){r&&r.api_setVolume&&r.api_setVolume(e)}}};return t?r():i()}(),c,h=!1,p=[],d={},v,m=function(t,n,r){var i=0,s={node:t,tracks:[]},o=function(t){e.getJSON(f(t.url,c),function(r){i+=1,r.tracks?s.tracks=s.tracks.concat(r.tracks):r.duration?(r.permalink_url=t.url,s.tracks.push(r)):r.username?/favorites/.test(t.url)?n.push({url:r.uri+"/favorites"}):n.push({url:r.uri+"/tracks"}):e.isArray(r)&&(s.tracks=s.tracks.concat(r)),n[i]?o(n[i]):s.node.trigger({type:"onTrackDataLoaded.scPlayer",playerObj:s})})};c=r,p.push(s),o(n[i])},g=function(e,t){return t?'<div class="sc-loading-artwork">Loading Artwork</div>':e.artwork_url?'<img src="'+e.artwork_url.replace("-large","-t300x300")+'"/>':'<div class="sc-no-artwork">No Artwork</div>'},y=function(n,r){e(".sc-info",n).each(function(t){e("h3",this).html('<a href="'+r.permalink_url+'">'+r.title+"</a>"),e("h4",this).html('by <a href="'+r.user.permalink_url+'">'+r.user.username+"</a>"),e("p",this).html(r.description||"no Description")}),e(".sc-artwork-list li",n).each(function(t){var n=e(this),i=n.data("sc-track");i===r?n.addClass("active").find(".sc-loading-artwork").each(function(t){e(this).removeClass("sc-loading-artwork").html(g(r,!1))}):n.removeClass("active")}),e(".sc-duration",n).html(t(r.duration)),e(".sc-waveform-container",n).html('<img src="'+r.waveform_url+'" />'),n.trigger("onPlayerTrackSwitch.scPlayer",[r])},b=function(e){var t=e.permalink_url;v===t?l.play():(v=t,l.load(e,c))},w=function(t){return p[e(t).data("sc-player").id]},E=function(t,n){n&&e("div.sc-player.playing").removeClass("playing"),e(t).toggleClass("playing",n).trigger((n?"onPlayerPlay":"onPlayerPause")+".scPlayer")},S=function(t,n){var r=w(t).tracks[n||0];y(t,r),d={$buffer:e(".sc-buffer",t),$played:e(".sc-played",t),position:e(".sc-position",t)[0]},E(t,!0),b(r)},x=function(e){E(e,!1),l.pause()},T=function(){var n=d.$played.closest(".sc-player"),r;d.$played.css("width","0%"),d.position.innerHTML=t(0),E(n,!1),l.stop(),o("track finished get the next one"),r=e(".sc-trackslist li.active",n).next("li"),r.length||(r=n.nextAll("div.sc-player:first").find(".sc-trackslist li.active")),r.click()},N=function(e,t){l.seek(t)},C=function(){var e=80,t=document.cookie.split(";"),n=new RegExp("scPlayer_volume=(\\d+)");for(var r in t)if(n.test(t[r])){e=parseInt(t[r].match(n)[1],10);break}return e}(),k=function(e){var t=Math.floor(e),n=new Date;n.setTime(n.getTime()+31536e6),C=t,document.cookie=["scPlayer_volume=",t,"; expires=",n.toUTCString(),'; path="/"'].join(""),l.setVolume(C)},L;s.bind("scPlayer:onAudioReady",function(e){o("onPlayerReady: audio engine is ready"),l.play(),k(C)}).bind("scPlayer:onMediaPlay",function(e){clearInterval(L),L=setInterval(function(){var e=l.getDuration(),n=l.getPosition(),r=n/e;d.$played.css("width",100*r+"%"),d.position.innerHTML=t(n),s.trigger({type:"onMediaTimeUpdate.scPlayer",duration:e,position:n,relative:r})},500)}).bind("scPlayer:onMediaPause",function(e){clearInterval(L),L=null}).bind("scPlayer:onVolumeChange",function(e){k(e.volume)}).bind("scPlayer:onMediaEnd",function(e){T()}).bind("scPlayer:onMediaBuffering",function(e){d.$buffer.css("width",e.percent+"%")}),e.scPlayer=function(r,i){var s=e.extend({},e.scPlayer.defaults,r),o=p.length,u=i&&e(i),a=u[0].className.replace("sc-player",""),f=s.links||e.map(e("a",u).add(u.filter("a")),function(e){return{url:e.href,title:e.innerHTML}}),l=e('<div class="sc-player loading"></div>').data("sc-player",{id:o}),c=e('<ol class="sc-artwork-list"></ol>').appendTo(l),d=e('<div class="sc-info"><h3></h3><h4></h4><p></p><a href="#" class="sc-info-close">X</a></div>').appendTo(l),v=e('<div class="sc-controls"></div>').appendTo(l),b=e('<ol class="sc-trackslist"></ol>').appendTo(l);return(a||s.customClass)&&l.addClass(a).addClass(s.customClass),l.find(".sc-controls").append('<a href="#play" class="sc-play">Play</a> <a href="#pause" class="sc-pause hidden">Pause</a>').end().append('<a href="#info" class="sc-info-toggle">Info</a>').append('<div class="sc-scrubber"></div>').find(".sc-scrubber").append('<div class="sc-volume-slider"><span class="sc-volume-status" style="width:'+C+'%"></span></div>').append('<div class="sc-time-span"><div class="sc-waveform-container"></div><div class="sc-buffer"></div><div class="sc-played"></div></div>').append('<div class="sc-time-indicators"><span class="sc-position"></span> | <span class="sc-duration"></span></div>'),m(l,f,s.apiKey),l.bind("onTrackDataLoaded.scPlayer",function(r){var i=r.playerObj.tracks;s.randomize&&(i=n(i)),e.each(i,function(n,r){var i=n===0;e('<li><a href="'+r.permalink_url+'">'+r.title+'</a><span class="sc-track-duration">'+t(r.duration)+"</span></li>").data("sc-track",{id:n}).toggleClass("active",i).appendTo(b),e("<li></li>").append(g(r,n>=s.loadArtworks)).appendTo(c).toggleClass("active",i).data("sc-track",r)}),l.removeClass("loading").trigger("onPlayerInit.scPlayer"),l.each(function(){e.isFunction(s.beforeRender)&&s.beforeRender.call(this,i)}),e(".sc-duration",l)[0].innerHTML=t(i[0].duration),e(".sc-position",l)[0].innerHTML=t(0),y(l,i[0]),s.autoPlay&&!h&&(S(l),h=!0)}),u.each(function(t){e(this).replaceWith(l)}),l},e.scPlayer.stopAll=function(){e(".sc-player.playing a.sc-pause").click()},e.fn.scPlayer=function(t){return h=!1,this.each(function(){e.scPlayer(t,this)}),this},e.scPlayer.defaults=e.fn.scPlayer.defaults={customClass:null,beforeRender:function(t){var n=e(this)},onDomReady:function(){e("a.sc-player, div.sc-player").scPlayer()},autoPlay:!1,randomize:!1,loadArtworks:5,apiKey:"htuiRd1JP11Ww0X72T1C3g"},e("a.sc-play, a.sc-pause").live("click",function(t){var n=e(this).closest(".sc-player").find("ol.sc-trackslist");return n.find("li.active").click(),!1}),e("a.sc-info-toggle, a.sc-info-close").live("click",function(t){var n=e(this);return n.closest(".sc-player").find(".sc-info").toggleClass("active").end().find("a.sc-info-toggle").toggleClass("active"),!1}),e(".sc-trackslist li").live("click",function(t){var n=e(this),r=n.closest(".sc-player"),i=n.data("sc-track").id,s=r.is(":not(.playing)")||n.is(":not(.active)");return s?S(r,i):x(r),n.addClass("active").siblings("li").removeClass("active"),e(".artworks li",r).each(function(t){e(this).toggleClass("active",t===i)}),!1});var A=function(t,n){var r=e(t).closest(".sc-time-span"),i=r.find(".sc-buffer"),s=r.find(".sc-waveform-container img"),o=r.closest(".sc-player"),u=Math.min(i.width(),n-s.offset().left)/s.width();N(o,u)},O=function(e){e.targetTouches.length===1&&(A(e.target,e.targetTouches&&e.targetTouches.length&&e.targetTouches[0].clientX),e.preventDefault())};e(".sc-time-span").live("click",function(e){return A(this,e.pageX),!1}).live("touchstart",function(e){this.addEventListener("touchmove",O,!1),e.originalEvent.preventDefault()}).live("touchend",function(e){this.removeEventListener("touchmove",O,!1),e.originalEvent.preventDefault()});var M=function(t,n){var r=e(t),i=r.offset().left,o=r.width(),u=function(e){return Math.floor((e-i)/o*100)},a=function(e){s.trigger({type:"scPlayer:onVolumeChange",volume:u(e.pageX)})};r.bind("mousemove.sc-player",a),a(n)},_=function(t,n){e(t).unbind("mousemove.sc-player")};e(".sc-volume-slider").live("mousedown",function(e){M(this,e)}).live("mouseup",function(e){_(this,e)}),s.bind("scPlayer:onVolumeChange",function(t){e("span.sc-volume-status").css({width:t.volume+"%"})}),e(function(){e.isFunction(e.scPlayer.defaults.onDomReady)})}(jQuery),function(e){e.fn.extend({leanModal:function(t){function i(t){e("#lean_overlay").fadeOut(200),e(t).css({display:"none"})}var n={top:100,overlay:.5,closeButton:null},r=e("<div id='lean_overlay'></div>");return e("body").append(r),t=e.extend(n,t),this.each(function(){var n=t;e(this).click(function(t){var r=e(this).attr("href");e("#lean_overlay").click(function(){i(r)}),e(n.closeButton).click(function(){i(r)});var s=e(r).outerHeight(),u=e(r).outerWidth();e("#lean_overlay").css({display:"block",opacity:0}),e("#lean_overlay").fadeTo(200,n.overlay),e(r).css({display:"block",position:"fixed",opacity:0,"z-index":11e3,left:"50%","margin-left":-(u/2)+"px",top:n.top+"px"}),e(r).fadeTo(200,1),t.preventDefault()})})}})}(jQuery),window.Swipe=function(e,t){if(!e)return null;var n=this;this.options=t||{},this.index=this.options.startSlide||0,this.speed=this.options.speed||300,this.callback=this.options.callback||function(){},this.delay=this.options.auto||0,this.has3d=Modernizr.csstransforms3d,this.container=e,this.element=this.container.children[0],this.container.style.overflow="hidden",this.element.style.listStyle="none",this.element.style.margin=0,this.setup(),this.begin(),this.element.addEventListener&&(this.element.addEventListener("touchstart",this,!1),this.element.addEventListener("touchmove",this,!1),this.element.addEventListener("touchend",this,!1),this.element.addEventListener("webkitTransitionEnd",this,!1),this.element.addEventListener("msTransitionEnd",this,!1),this.element.addEventListener("oTransitionEnd",this,!1),this.element.addEventListener("transitionend",this,!1),window.addEventListener("resize",this,!1))},Swipe.prototype={setup:function(){var e;this.slides=this.element.children,this.length=this.slides.length;if(this.length<2)return null;"getBoundingClientRect"in this.container?(e=this.container.getBoundingClientRect(),e.width?this.width=e.width:this.width=e.right-e.left):this.width=this.container.offsetWidth;if(!this.width)return null;this.container.style.visibility="hidden";if(this.has3d){this.element.style.width=this.slides.length*this.width+"px";var t=this.slides.length;while(t--){var n=this.slides[t];n.style.width=this.width+"px",n.style.display="table-cell",n.style.verticalAlign="top"}}else{var t=this.slides.length;while(t--){var n=this.slides[t];n.style.visibility="hidden",n.style.position="absolute",n.style.top="0",n.style.left="0"}}this.slide(this.index,0),this.container.style.visibility="visible"},slide:function(e,t){var n=this.element.style;t==undefined&&(t=this.speed),this.has3d?(n.webkitTransitionDuration=n.MozTransitionDuration=n.msTransitionDuration=n.OTransitionDuration=n.transitionDuration=t+"ms",n.MozTransform=n.webkitTransform="translate3d("+ -(e*this.width)+"px,0,0)",n.msTransform=n.OTransform="translateX("+ -(e*this.width)+"px)"):(this.slides[this.index].style.visibility="hidden",this.slides[e].style.visibility="visible"),this.index=e,this.has3d||this.transitionEnd()},getPos:function(){return this.index},prev:function(e){this.delay=e||0,clearTimeout(this.interval),this.index&&this.slide(this.index-1,this.speed)},next:function(e){this.delay=e||0,clearTimeout(this.interval),this.index<this.length-1?this.slide(this.index+1,this.speed):this.slide(0,this.speed)},begin:function(){var e=this;this.interval=this.delay?setTimeout(function(){e.next(e.delay)},this.delay):0},stop:function(){this.delay=0,clearTimeout(this.interval)},resume:function(){this.delay=this.options.auto||0,this.begin()},handleEvent:function(e){switch(e.type){case"touchstart":this.onTouchStart(e);break;case"touchmove":this.onTouchMove(e);break;case"touchend":this.onTouchEnd(e);break;case"webkitTransitionEnd":case"msTransitionEnd":case"oTransitionEnd":case"transitionend":this.transitionEnd(e);break;case"resize":this.setup()}},transitionEnd:function(e){this.delay&&this.begin(),this.callback(e,this.index,this.slides[this.index])},onTouchStart:function(e){this.start={pageX:e.touches[0].pageX,pageY:e.touches[0].pageY,time:Number(new Date)},this.isScrolling=undefined,this.deltaX=0,this.element.style.MozTransitionDuration=this.element.style.webkitTransitionDuration=0,e.stopPropagation()},onTouchMove:function(e){if(e.touches.length>1||e.scale&&e.scale!==1)return;this.deltaX=e.touches[0].pageX-this.start.pageX,typeof this.isScrolling=="undefined"&&(this.isScrolling=!!(this.isScrolling||Math.abs(this.deltaX)<Math.abs(e.touches[0].pageY-this.start.pageY))),this.isScrolling||(e.preventDefault(),clearTimeout(this.interval),this.deltaX=this.deltaX/(!this.index&&this.deltaX>0||this.index==this.length-1&&this.deltaX<0?Math.abs(this.deltaX)/this.width+1:1),this.element.style.MozTransform=this.element.style.webkitTransform="translate3d("+(this.deltaX-this.index*this.width)+"px,0,0)",e.stopPropagation())},onTouchEnd:function(e){var t=Number(new Date)-this.start.time<250&&Math.abs(this.deltaX)>20||Math.abs(this.deltaX)>this.width/2,n=!this.index&&this.deltaX>0||this.index==this.length-1&&this.deltaX<0;this.isScrolling||this.slide(this.index+(t&&!n?this.deltaX<0?1:-1:0),this.speed),e.stopPropagation()}},function(e){"use strict";function n(t,r,i,s){function c(e){e.timeout&&(o.cycleTimeout=setTimeout(function(){n(t,e,0,!e.rev)},e.timeout))}if(r.busy)return;var o=t[0].parentNode,u=t[r.currSlide],a=t[r.nextSlide];if(o.cycleTimeout===0&&!i)return;if(i||!o.cyclePause){r.before.length&&e.each(r.before,function(e,t){t.apply(a,[u,a,r,s])});var f=function(){e.browser.msie&&this.style.removeAttribute("filter"),e.each(r.after,function(e,t){t.apply(a,[u,a,r,s])}),c(r)};r.nextSlide!=r.currSlide&&(r.busy=1,e.fn.cycle.custom(u,a,r,f));var l=r.nextSlide+1==t.length;r.nextSlide=l?0:r.nextSlide+1,r.currSlide=l?t.length-1:r.nextSlide-1}else c(r)}function r(e,t,r){var i=e[0].parentNode,s=i.cycleTimeout;return s&&(clearTimeout(s),i.cycleTimeout=0),t.nextSlide=t.currSlide+r,t.nextSlide<0?t.nextSlide=e.length-1:t.nextSlide>=e.length&&(t.nextSlide=0),n(e,t,1,r>=0),!1}var t="Lite-1.6";e.fn.cycle=function(t){return this.each(function(){t=t||{},this.cycleTimeout&&clearTimeout(this.cycleTimeout),this.cycleTimeout=0,this.cyclePause=0;var i=e(this),s=t.slideExpr?e(t.slideExpr,this):i.children(),o=s.get();if(o.length<2){window.console&&console.log("terminating; too few slides: "+o.length);return}var u=e.extend({},e.fn.cycle.defaults,t||{},e.metadata?i.metadata():e.meta?i.data():{}),a=e.isFunction(i.data)?i.data(u.metaAttr):null;a&&(u=e.extend(u,a)),u.before=u.before?[u.before]:[],u.after=u.after?[u.after]:[],u.after.unshift(function(){u.busy=0});var f=this.className;u.width=parseInt((f.match(/w:(\d+)/)||[])[1],10)||u.width,u.height=parseInt((f.match(/h:(\d+)/)||[])[1],10)||u.height,u.timeout=parseInt((f.match(/t:(\d+)/)||[])[1],10)||u.timeout,i.css("position")=="static"&&i.css("position","relative"),u.width&&i.width(u.width),u.height&&u.height!="auto"&&i.height(u.height);var l=0;s.css({position:"absolute",top:0}).each(function(t){e(this).css("z-index",o.length-t)}),e(o[l]).css("opacity",1).show(),e.browser.msie&&o[l].style.removeAttribute("filter"),u.fit&&u.width&&s.width(u.width),u.fit&&u.height&&u.height!="auto"&&s.height(u.height),u.pause&&i.hover(function(){this.cyclePause=1},function(){this.cyclePause=0});var c=e.fn.cycle.transitions[u.fx];c&&c(i,s,u),s.each(function(){var t=e(this);this.cycleH=u.fit&&u.height?u.height:t.height(),this.cycleW=u.fit&&u.width?u.width:t.width()}),u.cssFirst&&e(s[l]).css(u.cssFirst);if(u.timeout){u.speed.constructor==String&&(u.speed={slow:600,fast:200}[u.speed]||400),u.sync||(u.speed=u.speed/2);while(u.timeout-u.speed<250)u.timeout+=u.speed}u.speedIn=u.speed,u.speedOut=u.speed,u.slideCount=o.length,u.currSlide=l,u.nextSlide=1;var h=s[l];u.before.length&&u.before[0].apply(h,[h,h,u,!0]),u.after.length>1&&u.after[1].apply(h,[h,h,u,!0]),u.click&&!u.next&&(u.next=u.click),u.next&&e(u.next).unbind("click.cycle").bind("click.cycle",function(){return r(o,u,u.rev?-1:1)}),u.prev&&e(u.prev).unbind("click.cycle").bind("click.cycle",function(){return r(o,u,u.rev?1:-1)}),u.timeout&&(this.cycleTimeout=setTimeout(function(){n(o,u,0,!u.rev)},u.timeout+(u.delay||0)))})},e.fn.cycle.custom=function(t,n,r,i){var s=e(t),o=e(n);o.css(r.cssBefore);var u=function(){o.animate(r.animIn,r.speedIn,r.easeIn,i)};s.animate(r.animOut,r.speedOut,r.easeOut,function(){s.css(r.cssAfter),r.sync||u()}),r.sync&&u()},e.fn.cycle.transitions={fade:function(e,t,n){t.not(":eq(0)").hide(),n.cssBefore={opacity:0,display:"block"},n.cssAfter={display:"none"},n.animOut={opacity:0},n.animIn={opacity:1}},fadeout:function(t,n,r){r.before.push(function(t,n,r,i){e(t).css("zIndex",r.slideCount+(i===!0?1:0)),e(n).css("zIndex",r.slideCount+(i===!0?0:1))}),n.not(":eq(0)").hide(),r.cssBefore={opacity:1,display:"block",zIndex:1},r.cssAfter={display:"none",zIndex:0},r.animOut={opacity:0},r.animIn={opacity:1}}},e.fn.cycle.ver=function(){return t},e.fn.cycle.defaults={animIn:{},animOut:{},fx:"fade",after:null,before:null,cssBefore:{},cssAfter:{},delay:0,fit:0,height:"auto",metaAttr:"cycle",next:null,pause:!1,prev:null,speed:1e3,slideExpr:null,sync:!0,timeout:4e3}}(jQuery);var TGM={};TGM.alzheimers={},TGM.alzheimers.vent=$({}),TGM.alzheimers.views={},$(document).ready(function(){var e=TGM.alzheimers;e.views.introView.render(),e.vent.on("models:loaded",function(){e.views.videosView.render(),e.views.clipsView.render(),e.views.storiesView.render(),e.views.sliderView.render()}),e.vent.on("slider:ready",function(){e.views.videosView.loadVideos(),$(window).trigger("hashchange")}),e.models.load()}),function(e,t,n){var r=function(){this.usingLiveData=location.href.match(/live=1/i)},i=function(e,n){return t.find(e.categories,function(e){return e===n})};r.prototype.load=function(t){var r=this;e.ajax({url:this.usingLiveData?"http://alzheimers-cms.theglobalfail.com/?feed=json":"data/data.json",dataType:this.usingLiveData?"jsonp":"json",success:function(e){r.loadFromJSON(e),n.vent.trigger("models:loaded")}})},r.prototype.loadFromJSON=function(e){var n=this;t.each(["videos","stories","clips"],function(r){n[r]=t.chain(e).select(function(e){return i(e,r)}).sortBy(function(e){return e.order}).value()}),this.storiesPage=t.find(e,function(e){return i(e,"story")}),this.audioPage=t.find(e,function(e){return i(e,"audio")})},n.models=new r}($,_,TGM.alzheimers),function(e,t,n){var r=function(){};r.prototype.render=function(){e("#backgrounds img").removeClass("hide"),e("#backgrounds").cycle()},n.views.introView=new r}($,_,TGM.alzheimers),function(e,t,n){n.views.helpers={adjustGridHeights:function(t){var n=0;$column=t.find("ul.grid li"),$column.each(function(){e(this).height()>n&&(n=e(this).height())}),$column.height(n+n*.15)},removeHash:function(){var e=window.location;"pushState"in history&&history.pushState("",document.title,e.pathname+e.search)}}}($,_,TGM.alzheimers),function(e,t,n){var r=function(){};r.prototype.render=function(){var r=e("#audio-nav-item"),i=e("#own-words");t.each(n.models.videos,function(e,n){r.before('<li class="vid"><a data-page="'+(1+n)+'">'+t.escape(e.title)+"</a></li>"),i.before('<div class="section" id="'+e.slug+'-video">'+'<div class="video vimeo-player" data-vimeo-id="'+e.vimeo+'" >'+"</div>"+'<div class="video-txt">'+"<p>"+e.excerpt+"</p>"+'<p class="quote">'+e.pull+"</p>"+"</div>"+"</div>")})},r.prototype.loadVideos=function(){t.each(n.models.videos,function(t){e(".vimeo-player[data-vimeo-id="+t.vimeo+"]").html('<iframe class="player" src="http://player.vimeo.com/video/'+t.vimeo+"?api=1&player_id=player-"+t.vimeo+'" frameborder="0"></iframe>')})},n.views.videosView=new r}($,_,TGM.alzheimers),function(e,t,n){var r=function(){};r.prototype.render=function(){var r=e("#audio-nav-item"),i=e("#audio-share");r.find("a").html(n.models.audioPage.title),e("#audio-title").html(n.models.audioPage.title),e("#audio-content").html(n.models.audioPage.excerpt),t.each(n.models.clips,function(e,t){i.before('<li class="audio" style="background-image: url('+e.thumbnail+');"><h2><a href="'+e.soundcloud+'" class="sc-player"></a></h2></li>')}),e.isFunction(e.scPlayer.defaults.onDomReady)&&e("a.sc-player, div.sc-player").scPlayer(),n.views.helpers.adjustGridHeights(e("#own-words"))},n.views.clipsView=new r}($,_,TGM.alzheimers),function(e,t,n){var r=function(){};r.prototype.render=function(){var r=e("#modals");this.renderNav(),t.each(n.models.stories,function(t,n){e("#stories-share").before('<li class="reader"><h2>'+t.title+"</h2>"+'<p class="author">'+t.byline+"</p>"+'<p class="quote">'+t.excerpt+"</p>"+'<a href="#more-'+t.id+'" rel="modal">Read more</a>'+"</li>"),r.before('<div class="modal" id="more-'+t.id+'">'+'<a rel="close-modal">&times;</a>'+"<h2>"+t.title+"</h2>"+t.content+"</div>")}),n.views.helpers.adjustGridHeights(e("#stories"))},r.prototype.renderNav=function(){var t=e("#stories-nav-item"),r=n.models.storiesPage;t.find("a").html(r.title),e("#stories-title").html(r.title),e("#stories-content").html(r.excerpt)},n.views.storiesView=new r}($,_,TGM.alzheimers),function(e,t,n){var r=function(){};r.prototype.render=function(){this.setupSlider(),this.setupArrows(),this.setupHotKeys(),this.setupHashChange(),this.setupModals(),this.setupNav(),n.vent.trigger("slider:ready")},r.prototype.setupSlider=function(){var n=this;e("#sections .section").each(function(t){e(this).attr("data-section-index",t)}),e("a.arrow.right").removeClass("hide"),window.slider=slider=new Swipe(document.getElementById("container"),{callback:t.bind(this.slideComplete,this)})},r.prototype.slideComplete=function(t,r,i){var s,o,u;s=r+1,s===1?(e("a.arrow.left").addClass("hide"),e("a.arrow.right").removeClass("hide")):s===e('ul[data-role="navigation"] li').length?(e("a.arrow.right").addClass("hide"),e("a.arrow.left").removeClass("hide")):e("a.arrow").removeClass("hide"),o=e(i).find(".sc-player"),o.length?(o.find(".sc-play,.sc-pause").text(""),o.show()):e(".sc-player").hide(),e('ul[data-role="navigation"] li:not(:nth-child('+s+"))").removeClass("active"),e('ul[data-role="navigation"] li:nth-child('+s+")").addClass("active"),e("html, body").animate({scrollTop:0},"fast"),e(i).attr("id")?location.hash="#!"+e(i).attr("id"):n.views.helpers.removeHash()},r.prototype.setupArrows=function(){e('a[data-action="prev"]').click(function(e){e.preventDefault(),slider.prev()}),e('a[data-action="next"]').click(function(e){e.preventDefault(),slider.next()})},r.prototype.setupHotKeys=function(){e(document).keydown(function(e){e.keyCode===37?(e.preventDefault(),slider.prev()):e.keyCode===39&&(e.preventDefault(),slider.next())})},r.prototype.setupHashChange=function(){e(window).bind("hashchange",function(){var t=location.hash,n=t.replace(/^#!/,""),r,i;n?(r=e("#"+n+"[data-section-index]"),r.length&&(i=parseInt(r.data("section-index")),i!==slider.getPos()&&slider.slide(r.data("section-index")))):slider.getPos!==0&&slider.slide(0)})},r.prototype.setupModals=function(){e('a[rel="modal"]').leanModal({closeButton:'a[rel="close-modal"]',overlay:.8})},r.prototype.setupNav=function(){e('ul[data-role="navigation"] a').each(function(t){e(this).data("page",t)}),e('ul[data-role="navigation"] a').click(function(t){t.preventDefault(),e("html, body").animate({scrollTop:0},"fast"),slider.slide(e(this).data("page"))}),e('ul[data-role="navigation"] li').show()},n.views.sliderView=new r}($,_,TGM.alzheimers);